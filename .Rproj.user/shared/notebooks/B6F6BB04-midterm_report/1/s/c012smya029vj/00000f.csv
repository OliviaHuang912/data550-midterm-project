"0","library(dplyr)"
"0","library(tidyr)"
"0","library(ggplot2)"
"0","library(readr)"
"0","library(here)"
"0",""
"0","data_clean <- read_csv(here::here(""data"", ""data_clean.csv""))"
"1","[1mRows: [22m[34m15302[39m [1mColumns: [22m[34m22[39m
"
"1","[36mâ”€â”€[39m [1mColumn specification[22m [36mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[39m
[1mDelimiter:[22m "",""
[31mchr[39m (18): USMER, SEX, PATIENT_TYPE, DATE_DIED, INTUBED, PNEUMONIA, PREG...
[32mdbl[39m  (4): X, MEDICAL_UNIT, AGE, CLASIFFICATION_FINAL
"
"1","
[36mâ„¹[39m Use `spec()` to retrieve the full column specification for this data.
[36mâ„¹[39m Specify the column types or set `show_col_types = FALSE` to quiet this message.
"
"0","# Prepare data"
"0","condition_data <- data_clean %>%"
"0","  select(PNEUMONIA, PREGNANT, DIABETES, COPD, ASTHMA, INMSUPR, "
"0","         HIPERTENSION, CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, "
"0","         OBESITY, TOBACCO) %>%"
"0","  pivot_longer(cols = everything(), names_to = ""condition"", values_to = ""status"") %>%"
"0","  mutate(status = factor(status, levels = c(""Yes"", ""No""))) %>%"
"0","  group_by(condition, status) %>%"
"0","  summarize(count = n(), .groups = 'drop')"
"0",""
"0","# Create the bar chart"
"0","ggplot(condition_data, aes(x = condition, y = count, fill = status)) +"
"0","  geom_bar(stat = ""identity"", position = position_dodge()) +"
"0","  labs(title = ""Counts of Yes and No Responses for Each Condition"","
"0","       x = ""Condition"","
"0","       y = ""Count"","
"0","       fill = ""Status"") +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
"0",""
